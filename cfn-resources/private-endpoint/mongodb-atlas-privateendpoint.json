{
    "typeName": "MongoDB::Atlas::PrivateEndpoint",
    "description": "The Private Endpoint creation flow consists of the creation of three related resources in the next order: 1. Atlas Private Endpoint Service 2. Aws VPC private Endpoint 3. Atlas Private Endpoint",
    "sourceUrl": "https://github.com/mongodb/mongodbatlas-cloudformation-resources/tree/master/cfn-resources/private-endpoint",
    "documentationUrl": "https://github.com/mongodb/mongodbatlas-cloudformation-resources/blob/master/cfn-resources/private-endpoint/README.md",
    "tagging": {
        "taggable": false
    },
    "required": [
        "ProjectId",
        "CloudProvider",
        "EndpointServiceID"
    ],
    "properties": {
        "Profile": {
            "type": "string",
            "description": "The profile is defined in AWS Secret manager. See [Secret Manager Profile setup (../../../examples/profile-secret.yaml)",
            "default": "default"
        },
        "ProjectId": {
            "description": "Unique 24-hexadecimal digit string that identifies your project.",
            "type": "string"
        },
        "EndpointServiceId": {
            "description": "Unique 24-hexadecimal digit string that identifies the private endpoint service for which you want to create a private endpoint.",
            "type": "string"
        },
        "InterfaceEndpointId" : {
            "description": "Unique 24-hexadecimal digit string that identifies the private endpoint service for which you want to create a private endpoint.",
            "type": "string"
        },
        "CloudProvider": {
            "type": "string",
            "description": "Cloud service provider that manages this private endpoint."
        },
        "Id": {
            "description": "Unique string that identifies the private endpoint. The format of the endpointId parameter differs for AWS and Azure. You must URL encode the endpointId for Azure private endpoints.",
            "type": "string"
        },
        "EnforceConnectionSuccess": {
            "description": "If this proper is set to TRUE, the cloud formation resource will return success Only if the private connection is Succeeded",
            "type": "boolean"
        },
        "ConnectionStatus": {
            "description": "State of the Amazon Web Service PrivateLink connection when MongoDB Cloud received this request.",
            "type": "string"
        },
        "ErrorMessage": {
            "description": "Error message returned when requesting private connection resource. The resource returns null if the request succeeded.",
            "type": "string"
        }
    },
    "additionalProperties": false,
    "primaryIdentifier": [
        "/properties/ProjectId",
        "/properties/Id",
        "/properties/Profile",
        "/properties/EndpointServiceId",
        "/properties/CloudProvider"
    ],
    "readOnlyProperties": [
        "/properties/Id"
    ],
    "createOnlyProperties": [
        "/properties/ProjectId",
        "/properties/EndpointServiceId",
        "/properties/Profile",
        "/properties/InterfaceEndpointId",
        "/properties/CloudProvider"
    ],
    "handlers": {
        "create": {
            "permissions": [
                "secretsmanager:GetSecretValue"
            ]
        },
        "read": {
            "permissions": [
                "secretsmanager:GetSecretValue"
            ]
        },
        "delete": {
            "permissions": [
                "secretsmanager:GetSecretValue"
            ]
        }
    }
}
