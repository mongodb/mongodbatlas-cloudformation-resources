{
  "typeName": "MongoDB::Atlas::ProjectServiceAccountSecret",
  "description": "Creates a secret for the specified Service Account at the project level.",
  "sourceUrl": "https://github.com/mongodb/mongodbatlas-cloudformation-resources/tree/master/cfn-resources/project-service-account-secret",
  "definitions": {},
  "properties": {
    "ProjectId": {
      "description": "Unique 24-hexadecimal digit string that identifies your project.",
      "type": "string",
      "pattern": "^([a-f0-9]{24})$"
    },
    "ClientId": {
      "description": "The Client ID of the Service Account.",
      "type": "string"
    },
    "SecretExpiresAfterHours": {
      "description": "The expiration time of the new Service Account secret, provided in hours. The minimum and maximum allowed expiration times are subject to change and are controlled by the organization's settings.",
      "type": "integer",
      "minimum": 1
    },
    "SecretId": {
      "description": "Unique 24-hexadecimal digit string that identifies the secret.",
      "type": "string",
      "pattern": "^([a-f0-9]{24})$"
    },
    "Secret": {
      "description": "The secret value for the Service Account. It will be returned only the first time after creation.",
      "type": "string"
    },
    "MaskedSecretValue": {
      "description": "The masked Service Account secret.",
      "type": "string"
    },
    "CreatedAt": {
      "description": "The date that the secret was created on. This parameter expresses its value in the ISO 8601 timestamp format in UTC.",
      "type": "string"
    },
    "ExpiresAt": {
      "description": "The date for the expiration of the secret. This parameter expresses its value in the ISO 8601 timestamp format in UTC.",
      "type": "string"
    },
    "LastUsedAt": {
      "description": "The last time the secret was used. This parameter expresses its value in the ISO 8601 timestamp format in UTC.",
      "type": "string"
    },
    "Profile": {
      "description": "Profile used to provide credentials information, (a secret with the cfn/atlas/profile/{Profile}, is required), if not provided default is used.",
      "type": "string",
      "default": "default"
    }
  },
  "additionalProperties": false,
  "required": ["ProjectId", "ClientId"],
  "createOnlyProperties": [
    "/properties/ProjectId",
    "/properties/ClientId",
    "/properties/SecretExpiresAfterHours",
    "/properties/Profile"
  ],
  "readOnlyProperties": [
    "/properties/SecretId",
    "/properties/Secret",
    "/properties/MaskedSecretValue",
    "/properties/CreatedAt",
    "/properties/ExpiresAt",
    "/properties/LastUsedAt"
  ],
  "primaryIdentifier": [
    "/properties/ProjectId",
    "/properties/ClientId",
    "/properties/SecretId"
  ],
  "handlers": {
    "create": {
      "permissions": ["secretsmanager:GetSecretValue"]
    },
    "read": {
      "permissions": ["secretsmanager:GetSecretValue"]
    },
    "delete": {
      "permissions": ["secretsmanager:GetSecretValue"]
    },
    "list": {
      "permissions": ["secretsmanager:GetSecretValue"]
    }
  },
  "documentationUrl": "https://github.com/mongodb/mongodbatlas-cloudformation-resources/blob/master/cfn-resources/project-service-account-secret/README.md",
  "tagging": {
    "taggable": false
  }
}
