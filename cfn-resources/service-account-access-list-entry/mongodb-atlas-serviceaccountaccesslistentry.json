{
  "typeName": "MongoDB::Atlas::ServiceAccountAccessListEntry",
  "description": "Manages IP access list entries for MongoDB Atlas Service Accounts at the organization level.",
  "sourceUrl": "https://github.com/mongodb/mongodbatlas-cloudformation-resources/tree/master/cfn-resources/service-account-access-list-entry",
  "definitions": {},
  "properties": {
    "OrgId": {
      "description": "Unique 24-hexadecimal digit string that identifies the organization.",
      "type": "string",
      "pattern": "^([a-f0-9]{24})$"
    },
    "ClientId": {
      "description": "The Client ID of the Service Account.",
      "type": "string"
    },
    "CIDRBlock": {
      "description": "Range of IP addresses in CIDR notation to be added to the access list. You can set a value for this parameter or IPAddress, but not both.",
      "type": "string"
    },
    "IPAddress": {
      "description": "Single IP address to be added to the access list. You can set a value for this parameter or CIDRBlock, but not both.",
      "type": "string"
    },
    "CreatedAt": {
      "description": "Date and time when the access list entry was created. This parameter expresses its value in the ISO 8601 timestamp format in UTC.",
      "type": "string"
    },
    "LastUsedAddress": {
      "description": "Network address that issued the most recent request to the API. This parameter may not be present if no requests have originated from this IP address.",
      "type": "string"
    },
    "LastUsedAt": {
      "description": "Date and time when the API received the most recent request originating from this IP address. This parameter expresses its value in the ISO 8601 timestamp format in UTC.",
      "type": "string"
    },
    "RequestCount": {
      "description": "Total number of requests that have originated from this IP address.",
      "type": "integer"
    },
    "Profile": {
      "description": "Profile used to provide credentials information, (a secret with the cfn/atlas/profile/{Profile}, is required), if not provided default is used.",
      "type": "string",
      "default": "default"
    }
  },
  "additionalProperties": false,
  "required": ["OrgId", "ClientId"],
  "oneOf": [
    {
      "required": ["CIDRBlock"]
    },
    {
      "required": ["IPAddress"]
    }
  ],
  "createOnlyProperties": [
    "/properties/OrgId",
    "/properties/ClientId",
    "/properties/CIDRBlock",
    "/properties/IPAddress",
    "/properties/Profile"
  ],
  "readOnlyProperties": [
    "/properties/CreatedAt",
    "/properties/LastUsedAddress",
    "/properties/LastUsedAt",
    "/properties/RequestCount"
  ],
  "primaryIdentifier": [
    "/properties/OrgId",
    "/properties/ClientId",
    "/properties/CIDRBlock"
  ],
  "handlers": {
    "create": {
      "permissions": ["secretsmanager:GetSecretValue"]
    },
    "read": {
      "permissions": ["secretsmanager:GetSecretValue"]
    },
    "delete": {
      "permissions": ["secretsmanager:GetSecretValue"]
    },
    "list": {
      "permissions": ["secretsmanager:GetSecretValue"]
    }
  },
  "documentationUrl": "https://github.com/mongodb/mongodbatlas-cloudformation-resources/blob/master/cfn-resources/service-account-access-list-entry/README.md",
  "tagging": {
    "taggable": false
  }
}
