{
    "AWSTemplateFormatVersion" : "2010-09-09",
    "Description" : "This template creates a Private Endpoint / Private Endpoint Service resource with AWS PrivateLink for Dedicated Clusters on MongoDB Atlas. This will be billed to your Atlas account.",
    "Parameters" : {
      "MongoDBAtlasAPIPublicKey": {
        "Type": "String"
      },
      "MongoDBAtlasAPIPrivateKey": {
        "Type": "String"
      },
      "MongoDBAtlasProjectId": {
        "Type": "String"
      },
      "AWSRegion": {
        "Type": "String"
      },
      "AWSVpcId": {
        "Type": "String"
      },
      "AWSSubnetId": {
        "Type": "String"
      }
    },
    "Mappings" : {},
    "Resources" : {
      "PrivateEndpoint": {
        "Type": "MongoDB::Atlas::PrivateEndpoint",
        "Properties":  {
          "GroupId": { "Ref" : "MongoDBAtlasProjectId" },
          "Region": { "Ref" : "AWSRegion" },
          "VpcId": { "Ref" : "AWSVpcId" },
          "SubnetId": { "Ref" : "AWSSubnetId" },
          "ApiKeys": {
            "PublicKey": { "Ref" : "MongoDBAtlasAPIPublicKey" },
            "PrivateKey": { "Ref" : "MongoDBAtlasAPIPrivateKey" }
          }
        }
      }
    },
    "Outputs" : {}
  }
  
